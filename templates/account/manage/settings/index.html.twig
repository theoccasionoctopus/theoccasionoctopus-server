{%  extends "account/manage/base.html.twig" %}

{% block body %}

    <div class="content">
        <div>Account ID (for API Access): {{  account.id }}</div>

        <div>Default Timezone: {{  account.accountLocal.defaultTimeZone.title }}</div>

        <div>Default Country: {{  account.accountLocal.defaultCountry.title }}</div>

        <div>Default Privacy: {%  if account.accountLocal.defaultPrivacy == 0 %}<i class="fas fa-globe-europe"></i> Public{%  else %}<i class="fas fa-lock"></i> Private{%  endif %}</div>

        <div>Years Behind: {{ account.yearsBehind }}</div>
        <div>Years Ahead: {{ account.yearsAhead }}</div>

        <div>Search Engines: {%  if account.accountLocal.SEOIndexFollow  %}<i class="fas fa-globe-europe"></i> Request to include{%  else %}<i class="fas fa-lock"></i> Request not to list{%  endif %}</div>

        <h3>Emails of upcoming events</h3>

        {%  if sendUpcomingEventsEmail and sendUpcomingEventsEmail.enabled %}
            <p>You will be sent emails of upcoming events.</p>
            <form method="post">
                {#  @TODO Add CSFR  #}
                <input type="hidden" name="action" value="stopEmailUserUpcomingEventsForAccount">
                <input type="submit" value="Stop sending emails" class="button">
            </form>
        {%  else %}
            <p>You will not be sent emails of upcoming events.</p>
            <form method="post">
                {#  @TODO Add CSFR  #}
                <input type="hidden" name="action" value="startEmailUserUpcomingEventsForAccount">
                <input type="submit" value="Start sending emails" class="button">
            </form>
        {%  endif %}


        <h3>Imports</h3>

        {%  if imports %}

            <table class="table">
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>URL</th>
                    <th>Privacy</th>
                    <th>Default Country</th>
                    <th>Default Timezone</th>
                    <th>Enabled</th>
                    <th>&nbsp;</th>
                </tr>
                {%  for import in imports %}
                    <tr>
                        <td>{{  import.title }}</td>
                        <td>{{  import.description }}</td>
                        <td><a href="{{  import.url }}">{{  import.url }}</a></td>
                        <td>{%  if import.privacy == 0 %}Public{%  else %}Private{%  endif %}</td>
                        <td>{%  if import.defaultCountry %}{{  import.defaultCountry.title }}{%  endif %}</td>
                        <td>{{  import.defaultTimezone.code }}</td>
                        <td>{%  if import.enabled %}Enabled{%  else %}-{%  endif %}</td>
                        <td></td>
                        <td>
                            &nbsp;
                        </td>
                    </tr>
                {%  endfor %}
            </table>
        {%  else %}

            No imports.
        {%  endif %}

        <p>
            <a class="button" role="button" href="{{ path('account_manage_import_new',{'account_username':account.username}) }}"><i class="fas fa-plus"></i> New Import</a>
        </p>


        <h3>Managers</h3>

        <table class="table">
            <tr>
                <th>Email</th>
            </tr>
            {%  for user in usersManage %}
                <tr>
                    <td>{{  user.email }}</td>
                </tr>
            {%  endfor %}
        </table>

    </div>

{% endblock %}
